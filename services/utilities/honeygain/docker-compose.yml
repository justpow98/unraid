# ============================================================================
# services/utilities/honeygain/docker-compose.yml
# ============================================================================


services:
  honeygain:
    image: honeygain/honeygain:latest@sha256:fe340e0539532ba79635cb359291d9491aae38c3edb7b0bb5b0a7e22e671fe0a
    container_name: honeygain
    restart: unless-stopped
    environment:
      - TZ=${TZ}
      - HOST_OS=Unraid
      - HOST_HOSTNAME=JP-Dell
      - HOST_CONTAINERNAME=honeygain
    labels:
      - "kuma.honeygain.type=docker"
      - "kuma.honeygain.docker_container=honeygain"
      - "kuma.honeygain.docker_host=unix:///var/run/docker.sock"  # Add this line
      - "kuma.honeygain.name=Honeygain"
      - "kuma.honeygain.interval=60"
      - "kuma.honeygain.tags=utilities,passive-income"
      # Keep existing Unraid labels
      - "net.unraid.docker.icon=https://raw.githubusercontent.com/selfhosted/unRAID-CA-templates/master/templates/img/honeygain-icon.png"
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 128M
        reservations:
          cpus: '0.05'
          memory: 64M
    command: -tou-accept -email ${HONEYGAIN_EMAIL} -pass ${HONEYGAIN_PASSWORD} -device ${HONEYGAIN_DEVICE_NAME}
    networks:
      - internal_net

networks:
  internal_net:
    external: true